<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>talk-in js-代理模式</title>
</head>
<body>
   <script>
       //object
       //描述对象对象是怎么样的就会出来
       //对象字面量 JSON Object  对象只会有两种东西，一个是属性，一个是行为
       const xsj = {
                    name:'徐世杰',
                    age:22,
                    yz:46,
                    single:true,
                    hometown:'绍兴',
                    room:1319,
                    //上面是属性
                    //函数功能 行为方法函数
                    //形参 target 
                    sendFlower:function(target){
                       // console.log(target.name);
                        target.receiveFlower(xsj);
                    }
       };

       const meimei={
           name:'梅梅',
           age:17,
            mood:50,

          receiveFlower:function(sender){
               //if(sender.yz<85){
                //    console.log('收到花，但是没空');
              // }
               //else{
                //   console.log('备胎排队一下');
              // }
              // console.log('收到花了');
              console.log('收到花了');

          if(meimei.mood>80){
                   console.log('收花');
               }
                else{
                    console.log('不好意思，我不喜欢你');
                }
           },
    
         
          //如果mood大于80就收花，否则拒绝 if/else
          
           listenGoodMood:function(){
               //心情不好
               //定时器
               
              // console.log("本公主谁都不想见");
               setTimeout(function(){
               //console.log("本公主心情变好了");
              meimei.mood=90,

               meimei .receiveFlower();
           },3000);
           }
           };

       //送花 A->B A->C->B
       //A送花sendFlower
       //C 收花 转送B
       //B 收到花 receive flower
       const huahua = {
       name: "花花",
       //与梅梅实现了同样的接口receiceFlower
       receiveFlower: function(sender) {
           //心情好，再送
      // meimei.receiveFlower(sender);
      //代理者，监听meimei的心声
      meimei.listenGoodMood(function(){

      })

  }
};
   </script> 
</body>
</html>